{"ast":null,"code":"var _jsxFileName = \"/Users/student_ga108/Documents/Perscholas-sei-blended/PerScholas-sei-blended-Module-3-Week-2/your-local-menu/src/components/ReviewCall.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport LeaveReview from './LeaveReview';\nimport ReviewCell from './ReviewCell';\nimport Review from './Review/Review';\nexport default class Call extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [{}],\n      name: '',\n      rating: 0,\n      comment: '',\n      reviews: ['']\n    };\n    this.takeName = this.takeName.bind(this);\n    this.takeRating = this.takeRating.bind(this);\n    this.takeComment = this.takeComment.bind(this);\n    this.createComment = this.createComment.bind(this);\n  }\n\n  takeName(event) {\n    {\n      /* update the ymbol in state */\n    }\n    this.setState({\n      name: event.target.value\n    });\n  }\n\n  takeRating(event) {\n    {\n      /* update the ymbol in state */\n    }\n    this.setState({\n      rating: event.target.value\n    });\n  }\n\n  takeComment(event) {\n    {\n      /* update the quantity in state */\n    }\n    this.setState({\n      comment: event.target.value\n    });\n  }\n\n  createComment() {\n    let newReviews = this.state.reviews;\n    let newReviewHTML = /*#__PURE__*/React.createElement(ReviewCell, {\n      user: this.state.name,\n      rating: this.state.rating,\n      comment: this.state.comment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 27\n      }\n    });\n    newReviews.push(newReviewHTML);\n    this.setState({\n      reviews: newReviews\n    });\n  }\n\n  componentDidMount() {\n    {\n      /* call the api on page load */\n    }\n    this.callApi();\n  }\n\n  async callApi() {\n    {\n      /*https://medium.com/@chaoyue_zhao/how-to-make-axios-api-calls-with-yelp-fusion-inside-react-js-10755d8485c5*/\n    }\n    axios.get(`${'https://cors-anywhere.herokuapp.com/'}https://api.yelp.com/v3/businesses/${this.props.restuarant}/reviews`, {\n      headers: {\n        Authorization: `Bearer ${process.env.REACT_APP_API_KEY}`\n      }\n    }).then(res => {\n      this.setState({\n        data: res.data.reviews\n      });\n    }).catch(err => {\n      console.log('error');\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(LeaveReview, {\n      takeName: this.takeName,\n      takeRating: this.takeRating,\n      takeComment: this.takeComment,\n      createComment: this.createComment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }\n    }, this.state.reviews), /*#__PURE__*/React.createElement(Review, {\n      data: this.state.data,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/student_ga108/Documents/Perscholas-sei-blended/PerScholas-sei-blended-Module-3-Week-2/your-local-menu/src/components/ReviewCall.js"],"names":["React","Component","axios","LeaveReview","ReviewCell","Review","Call","constructor","props","state","data","name","rating","comment","reviews","takeName","bind","takeRating","takeComment","createComment","event","setState","target","value","newReviews","newReviewHTML","push","componentDidMount","callApi","get","restuarant","headers","Authorization","process","env","REACT_APP_API_KEY","then","res","catch","err","console","log","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport LeaveReview from './LeaveReview';\nimport ReviewCell from './ReviewCell';\nimport Review from './Review/Review'\n\n\nexport default class Call extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n          data: [{}],\n          name:'',\n          rating:0,\n          comment:'',\n          reviews:['']\n\n        }\n\n        this.takeName = this.takeName.bind(this);\n        this.takeRating = this.takeRating.bind(this);\n        this.takeComment = this.takeComment.bind(this);\n        this.createComment = this.createComment.bind(this);\n  }\n\n  takeName(event){\n    {/* update the ymbol in state */}\n    this.setState({name: event.target.value});\n  }\n\n  takeRating(event){\n    {/* update the ymbol in state */}\n    this.setState({rating: event.target.value});\n  }\n\n  takeComment(event){\n    {/* update the quantity in state */}\n    this.setState({comment: event.target.value});\n  }\n\n  createComment(){\n      let newReviews = this.state.reviews;\n      let newReviewHTML = <ReviewCell user={this.state.name} rating={this.state.rating} comment={this.state.comment}/>;\n      newReviews.push(newReviewHTML);\n      this.setState({reviews:newReviews});\n  }\n\n    componentDidMount() {\n   \n        {/* call the api on page load */}\n        this.callApi();\n    }\n    async callApi() {\n \n        {/*https://medium.com/@chaoyue_zhao/how-to-make-axios-api-calls-with-yelp-fusion-inside-react-js-10755d8485c5*/}\n        \n        axios.get(`${'https://cors-anywhere.herokuapp.com/'}https://api.yelp.com/v3/businesses/${this.props.restuarant}/reviews`, {\n        headers: {\n            Authorization: `Bearer ${process.env.REACT_APP_API_KEY}`\n        }\n        })\n        .then((res) => {\n  \n          this.setState({data:res.data.reviews})\n        \n        })\n        .catch((err) => {\n        console.log ('error');\n        })\n        \n      }\n  \n  render() {\n    \n    return (\n      <div>\n\n        <LeaveReview takeName={this.takeName} takeRating={this.takeRating} takeComment={this.takeComment} createComment={this.createComment} />\n        <div>{this.state.reviews}</div>      \n      <Review data={this.state.data} />\n\n      </div>\n      \n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}